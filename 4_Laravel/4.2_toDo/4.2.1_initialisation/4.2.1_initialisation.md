# Introduction 

Dans ce TP nous allons rÃ©aliser une application web, Â« TODO Â» ou aussi appelÃ© liste de tÃ¢ches.<br />
Une TODO List est un procÃ©dÃ© qui se veut simple et efficace pour gÃ©rer les tÃ¢ches d'un projet. Ces tÃ¢ches peuvent Ãªtre indÃ©pendantes ou devoir, au contraire, Ãªtre accomplies dans un certain ordre. Ces tÃ¢ches pourront Ã©galement Ãªtre catÃ©gorisÃ©es (pro, perso, famille, ...).<br />
VoilÃ  la liste des fonctionnalitÃ©s de lâ€™application que l'on va crÃ©er :<br />
- Lister les tÃ¢ches.<br />
- Ajouter une tÃ¢che.<br />
- Marquer comme terminÃ© une tÃ¢che.<br />
- Suppression d'une tÃ¢che.<br />


!!! note "Technologie"

    Dans ce TP nous allons utiliser les technologies suivantes :<br />
    - Laravel (Framework PHP)<br />
    - ORM Eloqent<br />
    - Bootstrap 4 (Framework HTML / CSS / JS)<br />
    - NodeJS (Utilisation de Webpack)

# Initialiser le projet

La premiÃ¨re Ã©tape lors d'un projet Laravel est la crÃ©ation de la structure avec une simple ligne de commande, dans notre cas :
âœ‹ Attention, le projet va Ãªtre crÃ©Ã© dans le dossier todo2024 **dans le dossier courant**.

```prompt
composer create-project --prefer-dist laravel/laravel todo2024 
```

!!! question "Question"
    === "Question"
        OÃ¹ sont les librairies ?
    === "rÃ©ponse"
        Les vendor reprÃ©sentent les bibliothÃ¨ques tierce qui sont nÃ©cessaires au projet mais qui sont des ressources externe, c'est notamment le nom utiliser par le dossier ou sont stocker les dÃ©pendances tÃ©lÃ©chargÃ©es via le package manager le plus utiliser de php : composer

!!! question "Question"
    === "question"
        Quel est l'intÃ©rÃªt Ã  votre avis d'utiliser un outil pour initialiser un projet ?
    === "RÃ©ponse"
        Gain de temps, dâ€™efficacitÃ©, non redondance des taches, automatisation de ce qui peut lâ€™Ãªtre.

!!! warning "Configurer le projet"
    Configurer le projet : **.env**<br />
    Le projet qui vient d'Ãªtre crÃ©Ã© est Â« gÃ©nÃ©rique Â» c'est Ã  dire qu'il ne possÃ¨de aucune personnalisation et peut donc servir de base quelques soit votre dÃ©veloppement.<br />
    La premiÃ¨re Ã©tape est donc d'Ã©diter le fichier `.env` pour configurer les options de base de votre projet tel que :<br />
    - Le nom : ToDoList<br />
    - Le type de base de donnÃ©es<br />
    - â€¦<br />

!!! warning "SÃ©curitÃ©"
    :construction: CrÃ©er une base de donnÃ©es `todo2024` sous MySQL <br />
    :boom: crÃ©er un user de base de donnÃ©es Ã  pÃ©rimÃ¨tre restreint pour votre application
    ```sql
    CREATE USER 'todo'@'%' IDENTIFIED WITH mysql_native_password AS '***';GRANT SELECT, INSERT, UPDATE, DELETE, CREATE, DROP, FILE, INDEX, ALTER, CREATE TEMPORARY TABLES, CREATE VIEW, EVENT, TRIGGER, SHOW VIEW, CREATE ROUTINE, ALTER ROUTINE, EXECUTE 
    ON *.* TO 'todo'@'%' ;
    GRANT ALL PRIVILEGES ON `todo2024`.* TO 'todo'@'%'; 
    ```

Le reste du fichier .env : Nous n'allons pas toucher aux autres paramÃ¨tres mais certains sont tout de mÃªme intÃ©ressants. Je vous laisse donc consulter la documentation en ligne de laravel.<br />


# Conception de la base de donnÃ©es

![modÃ©lisation Todo](./data/todo.png)

Ce qui donnera le calcul du MPD suivant : <br />
TODO (<u>id</u>, texte, termine,important timestamp)<br />
CATEGORIE(<u>idcat</u>, libelle)<br />
CATEGORISE (<u>id</u>,<u>idcat</u>)<br />


## CrÃ©ation de la Â« migration Â»

Laravel utilise un **ORM** pour manipuler la base de donnÃ©es. Pour rappel un ORM est Un **mapping objet-relationnel** (en anglais object-relational mapping) est une technique de programmation informatique qui crÃ©e l'illusion d'une base de donnÃ©es orientÃ©e objet Ã  partir d'une base de donnÃ©es relationnelle en dÃ©finissant des correspondances entre cette base de donnÃ©es et les objets du langage utilisÃ©.<br />
L'ORM utilisÃ© par Laravel est **Eloquent**, il est Ã  la fois puissant et relativement simple. Autrement dit avec un ORM dans la plus part des cas vous n'Ã©crivez plus de requÃªte SQL mais vous manipulez des objets reprÃ©sentant la base de donnÃ©es.<br />

Comme pour la crÃ©ation du projet, la crÃ©ation de la dÃ©finition de vos table va se faire via une requÃªte dans votre terminal en utilisant Artisan.
 
```prompt
php artisan make:migration create_todo_table --create=todo
```
```prompt
INFO  Migration [C:\wamp64\www\todo2024\database\migrations/2023_11_21_084423_create_todo_table.php] created successfully.
```

Lâ€™option `--create=todo` dans la premiÃ¨re mÃ©thode permet dâ€™indiquer le nom du modÃ¨le de la table Ã  crÃ©er.<br />
La commande vient de crÃ©er un nouveau fichier dans le dossier database/migration. Dans mon cas le fichier se nomme :
/todo2024/database/migrations/2023_11_21_084423_create_todo_table.php

??? note "contenu du fichier" 

    ```php
    <?php

        use Illuminate\Database\Migrations\Migration;
        use Illuminate\Database\Schema\Blueprint;
        use Illuminate\Support\Facades\Schema;

        return new class extends Migration
        {
            /**
             * Run the migrations.
             */
            public function up(): void
            {
                Schema::create('todo', function (Blueprint $table) {
                    $table->id();
                    $table->timestamps();
                });
            }

            /**
             * Reverse the migrations.
             */
            public function down(): void
            {
                Schema::dropIfExists('todo');
            }
        };

    ```

âœ‹ Le contenu du fichier crÃ©Ã© est fictif, il est lÃ  pour illustrer comment travailler. Nous allons le modifier pour mettre les informations relatives Ã  notre table.



??? question "Questions"
    === "Question"
        Il y a d'autres fichiers dans votre rÃ©pertoire de migration. A quoi servent ils ?
        ![migration](./data/migration.png))
    === "rÃ©ponse"
        -   table users : câ€™est une migration de base pour crÃ©er une table des utilisateurs,
        -   table password_resets : câ€™est une migration liÃ©e Ã  la prÃ©cÃ©dente qui permet de gÃ©rer le renouvellement des mots de passe en toute sÃ©curitÃ©.

??? question "Questions"
    === "Question"       
        Quels sont les champs par dÃ©faut dans la crÃ©ation dâ€™une table simple ?
    === "rÃ©ponse"
        ![Id](https://laravel.com/docs/10.x/migrations#column-method-id) et ![timestamp](https://laravel.com/docs/10.x/migrations#column-method-timestamps)

        ```php
        $table->integer('id');
        $table->timestamps();
        ```
        les deux champs ont une syntaxe particuliÃ¨re. Ce sont des fonctions propres Ã  Laravel. Il en existe beaucoup dans la ![documentation](https://laravel.com/docs/10.x/migrations#column-method-timestamps).


Nous allons dÃ©finir notre schÃ©ma  pour y ajouter les 3 colonnes qui nous serons utiles **texte, termine et important**. L'ORM Ã©tant une librairie objet, la dÃ©finition de nouveaux champs se fait via une mÃ©thode, dans notre cas :

    ```php
    $table->string('texte');
    $table->boolean('termine')->default(0);
    $table->boolean('important')->default(0);
    ```

??? note "fonction up"

    ```php
    public function up(): void
    {
        Schema::create('todo', function (Blueprint $table) {
            $table->integer('id');
            $table->string('texte');
            $table->boolean('termine')->default(0);
            $table->boolean('important')->default(0);
            $table->primary('id');
            $table->timestamps();
        });
    }
    ```

Ajouter les deux champs dans la mÃ©thode `up` du fichier.

??? question "Questions"
    === "Question"  
        Ã€ quoi correspond la mÃ©thode up et down ?<br />
        L'ordre des champs est-il important ?
    === "RÃ©ponses"

## CrÃ©ation en base

Maintenant que le script est terminÃ©, nous allons indiquer Ã  Laravel d'effectuer Â« la migration Â» c'est-Ã -dire de transformer votre dÃ©finition PHP en instruction SQL pour crÃ©er rÃ©ellement la base de donnÃ©es. 

!!! warning "Checklist"
    - [ ] base de donnÃ©es `todo` crÃ©Ã©e
    - [ ] user base de donnÃ©e crÃ©Ã©
    - [ ] .env mis Ã  jour
    - [ ] mÃ©tode `up` de la migration mise Ã  jour

!!! warning ":boom:"
    Remplacer dans config/database.php

    ```php
    'charset' => 'utf8mb4',
    'collation' => 'utf8mb4_unicode_ci',
    #Par 
	'charset' => 'utf8',
    'collation' => 'utf8_unicode_ci',
    #et 
    'engine' => null,
    #par
    'engine' => 'InnoDB',
    ```

Retour dans la ligne de commande :

```prompt
php artisan migrate:fresh  

  Dropping all tables ..................................................................................................... 146ms DONE

   INFO  Preparing database.

  Creating migration table ................................................................................................. 16ms DONE  

   INFO  Running migrations.

  2014_10_12_000000_create_users_table ..................................................................................... 21ms DONE  
  2014_10_12_100000_create_password_reset_tokens_table ..................................................................... 13ms DONE  
  2019_08_19_000000_create_failed_jobs_table ............................................................................... 22ms DONE  
  2019_12_14_000001_create_personal_access_tokens_table .................................................................... 21ms DONE  
  2023_11_21_084423_create_todo_table ...................................................................................... 21ms DONE  
```
VÃ©rifier votre console et votre travail dans phpMyAdmin. Puis passer vos tables todo et user en moteur InnoDB au lieu de MyISAM.
![innoDB](./data/innoDB.png)

!!! note "A faire"
    === "ModÃ¨le relationnel"
        Faites la mÃªme chose avec les tables CATEGORIE et CATEGORISE
        Sachant que CATEGORISE possÃ¨de Ã©galement deux clÃ©s Ã©trangÃ¨res.
    === "Correction
        La difficultÃ© ici est de crÃ©er la bonne relation entre clÃ©s primaires et clÃ©s Ã©trangÃ¨res.<br />
        Pour rappel, en Base de donnÃ©es, on ne peut rÃ©fÃ©rencer un champ en clÃ© Ã©trangÃ¨re vers une clÃ© primaire que si les deux champs sont exactement du MEME type. or ici, si on utilise `id()` pour catÃ©gorie, on aura du mal Ã  construire la clÃ© Ã©trangÃ¨re dans la table CATEGORISE

        ```php
        public function up(): void
        {
            Schema::create('categorie', function (Blueprint $table) {
                $table->integer('idcat');
                $table->string('libelle');
                $table->primary('idcat');
                $table->timestamps();
            });
        }

        public function up(): void
        {
            Schema::create('categorise', function (Blueprint $table) {
                $table->integer('idcat');
                $table->integer('idtodo');
                
                $table->foreign('idcat')->references('idcat')->on('categorie');
                $table->foreign('idtodo')->references('id')->on('todo');
                
                $table->primary(['idcat', 'idtodo']);
                $table->timestamps();
            });
        }
    ```

Votre base de donnÃ©es est maintenant prÃªte Ã  Ãªtre utilisÃ©e. Vous pouvez aller voir le contenu grÃ¢ce Ã  phpMyAdmin. Verifier votre structures et vos contraintes.


!!! abstract "Cours" :

    Lâ€™ORM eloquent permet de crÃ©er une correspondance entre les classes PHP et la base de donnÃ©es. On peut crÃ©er une **classe**`maTable` associÃ©e Ã  une **table** `maTable`. On pourra accÃ©der aux colonnes de la table au travers des propriÃ©tÃ©s de la classe et bÃ©nÃ©ficier de mÃ©thodes pour charger un Ã©lÃ©ment ou une liste dâ€™Ã©lÃ©ments, enregistrer, mettre Ã  jour â€¦

Exemple :
$user = User ::find(5) ;
Echo $user->name ;
$user->age=32 ;
$user->save() ;
ModÃ¨le
Le modÃ¨le
Maintenant que nous avons fait le script de crÃ©ation / migration, nous allons dÃ©finir notre modÃ¨le.
$ php artisan make:model Todos
La commande va crÃ©er le fichier Todos.php dans le dossier app/.
Ajouter dans la class :
    protected $fillable = ['texte', 'termine'];
âš ï¸ Cette propriÃ©tÃ© est optionnelle, elle permet vous autorisera plus tard Ã  faire du Â« mass-assignment Â» c'est Ã  dire Ã  crÃ©er un objet Â« Todos Â» depuis par exemple le POST HTTP.
Le controller
Maintenant que nous avons la migration et le modÃ¨le de notre base de donnÃ©es, nous allons crÃ©er le controller. Pour rappel le controller va faire Â« le lien Â» entre la base de donnÃ©es et les appels HTTP. Câ€™est ici que nous allons mettre la logique mÃ©tier de notre application.
RÃ´le
La tÃ¢che d'un contrÃ´leur est de rÃ©ceptionner une requÃªte (qui a dÃ©jÃ  Ã©tÃ© triÃ©e par une route) et de dÃ©finir la rÃ©ponse appropriÃ©e, rien de moins et rien de plus. Voici une illustration du processus :
 
â€¢	Les contrÃ´leurs servent Ã  rÃ©ceptionner les requÃªtes triÃ©es par les routes et Ã  fournir une rÃ©ponse au client.
â€¢	Artisan permet de crÃ©er facilement un contrÃ´leur.
â€¢	Il est facile d'appeler une mÃ©thode de contrÃ´leur Ã  partir d'une route.
â€¢	On peut nommer une route qui pointe vers une mÃ©thode de contrÃ´leur.
Pour commencer nous allons crÃ©er Â« la structure de base Â» de notre controller.
> php artisan make:controller TodosController
Le fichier TodosController.php viens d'Ãªtre crÃ©Ã© dans le chemin suivant app/Http/Controllers/.
Notre code est maintenant prÃªt. Nous allons crÃ©er les mÃ©thodes permettant la manipulation de notre base de donnÃ©es tout en rÃ©pondant Ã  nos problÃ©matique d'interface (liste, crÃ©ation, terminer, suppression).
Nous allons maintenant Ã©crire une mÃ©thode pour chaque action. Avec les diffÃ©rentes conditions nÃ©cessaires au bon fonctionnement de l'application.
La mÃ©thode Â« Liste Â»
Corriger le chemin de la database
La mÃ©thode Â« Liste Â»
La mÃ©thode liste est certainement la plus simple, nous allons faire appel Ã  la mÃ©thode all() de Eloquent (ORM pour lâ€™accÃ¨s Ã  la base de donnÃ©es). Pour Ã§a crÃ©ez une nouvelle mÃ©thode dans la Class TodoController avec le code suivant.
Pour l'instant nous n'allons pas intÃ©grer Ã‰loquent, mais uniquement dÃ©finir notre mÃ©thode.
public function liste(){
    return "Liste";
}
Rien de bien compliquÃ©, comme vous pouvez le voir.
Les autres mÃ©thodes
âœ‹ Pour l'instant nous allons nous arrÃªter lÃ  pour la partie code PHP. Cette mÃ©thode est suffisante pour Â« tester Â» le premier template que nous allons Ã©crire.
Ajout route /
Nous allons tester la route /, pour Ã§a nous allons remplacer le contenu du fichier routes/web.php par :
Route::get('/', "TodosController@liste");
Vous pouvez relancer votre serveur de test, vous devez maintenant voir afficher Â« Liste Â».
CrÃ©er les templates
Nous avons donc maintenant :
â€¢	La structure Laravel.
â€¢	La dÃ©finition de notre base de donnÃ©es.
â€¢	Les dÃ©pendances clients (bootstrap 4â€¦)
Nous allons donc pouvoir commencer la crÃ©ation des templates. L'organisation du code est quelques choses d'important, elle n'est pas Ã  nÃ©gliger. Un code organisÃ© est un code agrÃ©able Ã  rÃ©diger.
Notre vue va Ãªtre dÃ©coupÃ©e en 3 partie :
 
â€¢	âœ‹ Pourquoi le dÃ©coupage en Â« 3 templates Â» est-il important ?
On retrouve les besoins de dÃ©coupage que lâ€™on pouvait avoir avec un PHP brut avec les fonctions include ou require. On peut vouloir inclure une portion de code blade pour gÃ©rer les affichages dâ€™erreurs liÃ©s aux formulaires dans chaque page qui en possÃ¨dera un. Ici on mutualisera le code statique commun Ã  plusieurs pages.
â€¢	Quelle est l'avantage pour le dÃ©veloppeur ?
RÃ©utilisation de code, maintenabilitÃ©.
Le template principal
Nous allons commencer par dÃ©finir notre Â« Template principal Â» celui-ci va contenir l'ensemble des Ã©lÃ©ments partagÃ©s sur toutes nos pages Ã  savoir :
â€¢	Les JS
â€¢	Les CSS
â€¢	La structure commune
<html>
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="csrf-token" content="{{ csrf_token() }}">

        <title>@yield('title')</title>

        <link href="{{ asset('css/app.css') }}" rel="stylesheet">
        <script type="text/javascript" src="{{ asset('js/app.js') }}"></script>
    </head>
    <body>
        <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
            <a class="navbar-brand" href="#">Ma Todo List</a>
        </nav>

        @yield('content')

    </body>
</html>
Maintenant que nous avons le contenu, nous devons crÃ©er un nouveau fichier.
â€¢	CrÃ©er un nouveau fichier resources/views/template.blade.php
â€¢	Copier-Coller le html dans le fichier.
ğŸ‘ğŸ‘ Bravo, vous venez de crÃ©er votre premier template.
Questions
â€¢	Pourquoi le fichier est-il nommÃ© â€¦.blade.php ?
Il utilise le moteur de template blade. Contrairement aux autres moteurs de templates PHP populaires, Blade ne vous empÃªche pas d'utiliser du code PHP simple dans vos vues. En fait, toutes les vues Blade sont compilÃ©es dans du code PHP brut et mises en cache jusqu'Ã  ce qu'elles soient modifiÃ©es, ce qui signifie que Blade n'ajoute pratiquement aucune surcharge Ã  votre application. 
â€¢	Ã€ quoi correspond {{ asset('â€¦') }} ?
The asset function generates a URL for an asset using the current scheme of the request (HTTP or HTTPS):
$url = asset('css/style.css ');
->essaiera de charger /mon-site/ma/route/web/web/css/style.css

â€¢	Ã€ quoi correspond la directive Â« yield Â»? En quoi est-ce trÃ¨s important ?
Mot clÃ© permet de dÃ©terminer la partie ou placÃ© le code Ã  sustituer.
Il permet de gÃ©rer lâ€™hÃ©ritage et lâ€™inclusion de modÃ¨le.

â€¢	Est-il possible de dÃ©finir une Â« zone Â» oÃ¹ d'autre ressources JS/CSS seront insÃ©rÃ©es lors de l'exÃ©cution ? Voir la documentation : https://laravel.com/docs/5.6/blade#stacks
Blade propose un systÃ¨me pour ajouter des Ã©lÃ©ments de plusieurs endroits dans une pile avant lâ€™affichage. Il faut utiliser les directives @push, @endpush, @stack.

â€¢	Maintenant que vous avez la rÃ©ponse, ajouter une Â« stack Â» pour le script et le style dans l'entÃªte.
CrÃ©er un fichier base.css dans le repertoire ressources des css 
	body {background-color: coral;}
CrÃ©er un fichier scripts.blade.php dans le rÃ©pertoire views
		//Fichiers scripts.blade.php
@push('head')
			<script src="/jquery.js" /></script>
			<script src="/angular.js" /></script>
@endpush
CrÃ©er un fichier styles.blade.php
		//Fichiers styles.blade.php
@push('head')
			<link href="{{ asset('css/base.css') }}" rel="stylesheet">
@endpush	
Dans template.blade.php
	Avant la balise HTML insÃ©rer les deux lignes suivantes
			@include('scripts')
	    	   @include('styles')
	   Et dans la balise Head
 		   @stack('head')
Pour tester, mettez en commentaires la route vers le contrÃ´leur et remplacer par une route vers le template. 
Tester
          Une fois votre serveur de dÃ©veloppement lancÃ©, aller sur http://localhost:8000.
Que se passe tâ€™il ? Changer votre couleur de fond dans le css base pour voir ?
Visualiser votre code source de page. Que se passe tâ€™il ?
Installation des dÃ©pendances client
Maintenant que la partie base de donnÃ©es est prÃªte, nous allons nous occuper de la partie visualisation de notre application / site web. Nous allons utiliser bootstrap pour gÃ©rer la problÃ©matique d'affichage et de responsive.
Attention mÃ©thode alternative en cas de soucis avec NodeJS et npm.
Si pas de souci, reprendre le TP Ã  Installation de Bootsrap 4 via NodeJS + NPM"
Ajout des libraries
La structure de base de Laravel n'intÃ¨gre pas Bootsrap, par contre il est possible de l'installer dans votre projet.
La faÃ§on la plus rapide est d'intÃ©grer directement dans le <head> de votre projet les librairies suivantes :
Ã‰diter le fichier scripts.blade.php pour ajouter :
<script src="https://code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
<script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>

Ã‰diter le fichier styles.blade.php pour ajouter :

<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
Vous venez d'ajouter Jquery, Bootstrap, et l'ensemble des Ã©lÃ©ments nÃ©cÃ©ssaires Ã  son bon fonctionnement. Notre site a Ã©galement besoin d'une CSS spÃ©cifique. Celle-ci doit Ãªtre ajoutÃ©e manuellement.
CrÃ©er un fichier main.css dans public/css. Mettre le contenu suivant :
body{
    padding-top: 5rem;
  }

form.add{
    padding-bottom: 10px;
  }

.pull-right{
    float: right;
  }

.action > .btn{
    padding: 1px 7px 1px;
  }

.oi{
    font-size: small;
}
Ajouter Ã  nouveau cette CSS dans le fichier styles.template.php de votre site :
<link href="{{ asset('css/main.css') }}" rel="stylesheet">
Installation de Bootsrap 4 via NodeJS + NPM"
âœ‹ Si vous lisez ceci c'est que vous Ãªtes sur votre machine, si c'est le cas, sachez que c'est la meilleur faÃ§on de faire. (Attention Ã  ne pas avoir les librairies en HTTP et Via NodeJS).
Ajouter Bootsrap 4
La structure de base de Laravel n'intÃ¨gre pas Bootsrap, par contre elle intÃ¨gre un systÃ¨me de gestion de dÃ©pendances. Nous allons nous servir de cette gestion de dÃ©pendance pour ajouter bootstrap (version 4). Dans la ligne de commande :
$ php artisan preset none
$ php artisan preset bootstrap
Patientez quelques instantsâ€¦ bootstrap est maintenant disponible pour votre projet. Mais pour qu'il soit accessible pour vos templates nous devons Â« le compiler Â».
PrÃ©paration des Â« Assets Â» bootsrap â€¦
Laravel inclut une configuration Â« webpack.mix.js Â», celle-ci permet de fusionner l'ensemble des JS et CSS en un seul fichier pour gagner en performance.
Sans entrer dans le dÃ©tail, la compilation des ressources (assets) est rÃ©alisÃ©e avec Webpack. Webpack est un outils NodeJS trÃ¨s puissant mais qui peut Ãªtre complexe, nous allons donc uniquement l'utiliser.
â€¢	Installer NodeJS version current (https://nodejs.org/en/download/current/
Une fois installÃ© retourner dans le dossier de votre projet faites les commandes suivantes :
laravel-mix ?
laravel-mix est un outil fourni de base dans Laravel qui gÃ¨rent la partie libraries clientes. La configuration de celui-ci se fait dans le fichier webpack.mix.js

Le contenu initial est :
const mix = require('laravel-mix');

/*
 |--------------------------------------------------------------------------
 | Mix Asset Management
 |--------------------------------------------------------------------------
 |
 | Mix provides a clean, fluent API for defining some Webpack build steps
 | for your Laravel application. By default, we are compiling the Sass
 | file for the application as well as bundling up all the JS files.
 |
 */

mix.js('resources/js/app.js', 'public/js')
   .sass('resources/sass/app.scss', 'public/css');
Modifier le SCSS
Remplacer le fichier ressources/sass/app/scss par :
// Fonts
@import url('https://fonts.googleapis.com/css?family=Nunito');

// Variables
@import 'variables';

// Bootstrap
@import '~bootstrap/scss/bootstrap';

.navbar-laravel {
  background-color: #fff;
  box-shadow: 0 2px 4px rgba(0, 0, 0, 0.04);
}

body{
  padding-top: 5rem;
}

form.add{
  padding-bottom: 10px;
}

.pull-right{
  float: right;
}

.action > .btn{
  padding: 1px 7px 1px;
}

.oi{
  font-size: small;
}

Transpiler
> npm install
> npm run production
ğŸ” Plus d'informations Webpack.mix.js

Questions
 Questions
â€¢	Quels fichiers ont Ã©tÃ© crÃ©Ã©s ?
â€¢	Que contient le fichier webpack.mix.js ?
â€¢	webpack.mix.js fait rÃ©fÃ©rence Ã  des fichiers dans ressources/js/* et ressources/sass/*, allez y jeter un coup d'oeil (mÃªme si dans ce projet nous n'allons rien modifier).
â€¢	Pourquoi la fusion / compilation des ressources est-elle si importante ?
Modifications demandÃ©s
âœ‹ Cette modification n'est nÃ©cessaire que dans le cas oÃ¹ vous n'utilisez pas NodeJS + NPM.
Comme vous l'avez vu avec le fichier main.css il est possible d'avoir un CSS / JS en local dans le dossier public.
â€¢	TÃ©lÃ©charger l'ensemble de librairies http / https (css + js) dans le dossier public (attention Ã  bien les ranger) et les utiliser dans votre head.
Question
Liste des todos
Maintenant que nous avons dÃ©fini notre template de base nous allons pouvoir dÃ©finir notre page principale, la page Â« liste des todos Â». Une fois terminÃ©e celle-ci va ressembler Ã  :
 
Avant de commencer la rÃ©alisation de ce template, regardons ce que l'on peut y voir :
â€¢	Un formulaire Â« form Â»
â€¢	Une Â« liste Â»
Nous allons donc avoir besoin de composant bootstrap. PremiÃ¨re Ã©tape regarder la documentation de bootsrap (https://getbootstrap.com/docs/4.0/components/alerts/) !
 Questions
â€¢	Quels composants (components) allons-nous avoir besoins ?
Gestion des messages dâ€™erreur pour gÃ©rer la saisie dans le formulaire
â€¢	Est-ce que ce sont les seuls ?
DÃ©finition du template Â« Liste Â» / Â« Home Â»
Nous allons crÃ©er un 2nd template celui qui va Ãªtre chargÃ© d'afficher la liste des todos. 
CrÃ©Ã©r un nouveau fichier resources/views/home.blade.php et y mettre le contenu suivant :
@extends("template")

@section("title", "Ma Todo List")

@section("content")
    <div class="container">
        <div class="card">
            <div class="card-body">
                <!-- Action -->
                <form action="/action/add" method="post" class="add">
                    <div class="input-group">
                        <span class="input-group-addon" id="basic-addon1"><span class="oi oi-pencil"></span></span>
                        <input id="texte" name="texte" type="text" class="form-control" placeholder="Prendre une noteâ€¦" aria-label="My new idea" aria-describedby="basic-addon1">
                    </div>
                </form>

                <!-- Liste -->
                <ul class="list-group">
                    @forelse ($todos as $todo)
                        <li class="list-group-item">
                            <span>{{ $todo->texte }}</span>
                            <!-- Action Ã  ajouter pour Terminer et supprimer -->
                        </li>
                    @empty
                        <li class="list-group-item text-center">C'est vide !</li>
                    @endforelse
                </ul>
            </div>
        </div>
    </div>
@endsection
ğŸ¤“ Questions
â€¢	@extends ? Ã€ quoi sert cette directive, pourquoi Â« template Â»?
â€¢	Modifier le titre affichÃ© dans la barre.
â€¢	Ã€ quoi correspond le @forelse â€¦ @empty â€¦ @endforelse?
Et maintenant ?
Bienâ€¦ rÃ©cupitulons ! Nous avons :
â€¢	Le modele.
â€¢	Le contrÃ´leur.
â€¢	Les templates (template et home).
Il faut maintenant assembler l'ensemble pour que votre page s'affiche lors d'une requÃªte.
CrÃ©ation des routes
La dÃ©finition des routes se fait dans le fichier routes/web.php pour l'instant vous devez avoir qu'une seule route de dÃ©finie.
Supprimer lÃ , et ajouter :
Route::get('/', "TodosController@liste");
ğŸ¤“ Question
â€¢	Ã€ quoi correspond la notation TodosController@liste ?
Tester
Vous voyez Â« Liste Â» ? C'est OK !
Affichage de la liste
Bon afficher Â« Liste Â» c'est un bon dÃ©butâ€¦ Modifier la mÃ©thode liste() pour qu'elle ressemble Ã  :
    return view("home", ["todos" => Todos::all()]);
Tester
La page s'affiche ? Super !
â€¢	Ajouter une entrÃ©e Â« Ã  la main Â» grÃ¢ce Ã  l'explorateur de base de donnÃ©es de PHPStorm.
Rafraichissez la page, vous devez maintenant voir votre texte ğŸ˜.

